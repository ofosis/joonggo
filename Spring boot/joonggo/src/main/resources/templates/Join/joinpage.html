<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{layout/layout :: head('home')}">
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
</head>
<body>
<nav th:replace="~{layout/layout :: nav('home')}"></nav>

    <div class="container p-3" style="width:600px;">
        <div class="col-sm-11 mb-3">
            <div class="container mb-3 " style="text-align: center; font-size: 35px;">
                <label class="form-label">회원 가입</label>
            </div>
            <div class="col-sm-1 mb-3"> </div>
        </div>

        <form id="JoinForm" action="/Join/joininsert" method="post" th:object="${JoinDto}" enctype="multipart/form-data" onsubmit="return validateForm()">

            <div class="row">
                <label for="mbr_nick" class="col-sm-2 form-label text-left d-flex align-items-center">닉네임</label>
                <div class="col-sm-7 mb-3">
                    <input type="text" class="form-control" id="mbr_nick" name="mbr_nick" placeholder="2~8자 입력" style="border-color: #80A6FF" required>
                </div>
                <div class="col-sm-3 mb-3"> </div>
            </div>

            <div class="row">
                <label for="mbr_id" class="col-sm-2 form-label text-left d-flex align-items-center">아이디</label>
                <div class="col-sm-7 mb-3">
                    <input type="text" class="form-control" id="mbr_id" name="mbr_id" placeholder="4~16자 영문(소문자) 또는 숫자 입력" style="border-color: #80A6FF;" required>
                </div>
                <div class="col-sm-3 mb-3">
                    <button type="button" name="check_id" class="btn btn-outline-primary " style="width:100px" onclick="checkDuplicate('/Join/check_id')">중복확인</button>
                </div>
            </div>

            <div class="row">
                <label for="mbr_pwd" class="col-sm-2 form-label text-left d-flex align-items-center">비밀번호</label>
                <div class="col-sm-7 mb-3">
                    <input type="password" class="form-control" id="mbr_pwd" name="mbr_pwd" placeholder="6~20자 입력" style="border-color: #80A6FF" required>
                </div>
                <div class="col-sm-3 mb-3"> </div>
            </div>

            <div class="row">
                <label for="mbr_name" class="col-sm-2 form-label text-left d-flex align-items-center">이름</label>
                <div class="col-sm-7 mb-3">
                    <input type="text" class="form-control" id="mbr_name" name="mbr_name" placeholder="이름 입력" style="border-color: #80A6FF;" required>
                </div>
                <div class="col-sm-3 mb-3"> </div>
            </div>

            <div class="row">
                <label for="mbr_contact" class="col-sm-2 form-label text-left d-flex align-items-center">휴대전화</label>
                <div class="col-sm-7 mb-3">
                    <input type="text" class="form-control" id="mbr_contact" name="mbr_contact" placeholder="휴대전화번호('-' 포함)" style="border-color: #80A6FF;" required>
                </div>
                <div class="col-sm-3 mb-3"> </div>
            </div>

            <div class="row">
                <label for="mbr_email" class="col-sm-2 form-label text-left d-flex align-items-center">이메일</label>
                <div class="col-sm-7 mb-3">
                    <input type="text" class="form-control" id="mbr_email" name="mbr_email" placeholder="ex) qwer@gmail.com" style="border-color: #80A6FF;" required>
                </div>
                <div class="col-sm-3 mb-3"> </div>
            </div>

            <div class="row">
                <label for="mbr_addr" class="col-sm-2 form-label text-left d-flex align-items-center">주소</label>
                <div class="col-sm-7 mb-3" style="position: relative;">
                    <select class="form-control" id="mbr_addr"  name="mbr_addr" style="border-color: #80A6FF; padding-right: 25px; display: inline-block;">
                        <option value="00">대구광역시_구선택</option>
                        <option value="군위군">대구광역시_군위군</option>
                        <option value="남구">대구광역시_남구</option>
                        <option value="달서구">대구광역시_달서구</option>
                        <option value="달성군">대구광역시_달성군</option>
                        <option value="동구">대구광역시_동구</option>
                        <option value="북구">대구광역시_북구</option>
                        <option value="서구">대구광역시_서구</option>
                        <option value="수성구">대구광역시_수성구</option>
                        <option value="중구">대구광역시_중구</option>
                    </select>
                    <div style="position: absolute; top: 50%; right: 20px; transform: translateY(-50%); pointer-events: none;">
                        ▼
                    </div>
                </div>
                <div class="col-sm-3 mb-3"> </div>
            </div>

            <div class="row">
                <label class="col-sm-2 form-label "></label>
                <div class="col-sm-7 mb-3" style="text-align: center;">
                    <small class="form-text text-muted" >* 모든 정보는 필수 입력 항목입니다. *</small>
                </div>
                <div class="col-sm-3 mb-3"> </div>
            </div>

            <div class="row mt-3 mb-3">
                <div class="col-sm-2 mb-3"> </div>
                <div class="col-sm-7">
                    <button type="submit" class="btn btn-primary form-control" >회원가입</button>
                </div>
                <div class="col-sm-3 mb-3"> </div>
            </div>
        </form>
    </div>

</body>
</html>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script>
    function validateForm() {
            var selectedValue = document.getElementById('mbr_addr').value;
            if (selectedValue === "00") {
                alert("주소를 선택해주세요.");
                return false; // 폼 제출을 막음
            }
            return true; // 폼 제출을 허용
        }

     function checkDuplicate(url) {
        window.location.href = url;
    }

</script>
